# mbsync config

# NOTES:
# * Use PipelineDepth to throttle so we don't go over GMail's query quota.
#   See: https://sourceforge.net/p/isync/mailman/message/35458365/
#
# * If account is configured with Japanese as primary, use the following:
#
# 下書き         '[Gmail]/&Tgtm+DBN-'            '[Gmail]/Drafts'
# 送信済みメール '[Gmail]/&kAFP4W4IMH8w4TD8MOs-' '[Gmail]/Sent Mail'
# スター付き     '[Gmail]/&MLkwvzD8TtgwTQ-'      '[Gmail]/Starred'
# ゴミ箱         '[Gmail]/&MLQw33ux-'            '[Gmail]/Bin'
# すべてのメール '[Gmail]/&MFkweTBmMG4w4TD8MOs-' '[Gmail]/All Mail'
# 迷惑メール     '[Gmail]/&j,dg0TDhMPww6w-'      '[Gmail]/Spam'
# 重要           '[Gmail]/&kc2JgQ-'              '[Gmail]/Important'

######################################################################
# chris.bracken@gmail.com

IMAPAccount gmail
Host imap.gmail.com
Port 993
User chris.bracken@gmail.com
PassCmd "pass show Email/mbsync-gmail.com"
AuthMechs LOGIN
SSLType IMAPS
PipelineDepth 50
CertificateFile ~/.local/share/certs/ca-certificates.crt

# Create gmail remote
IMAPStore gmail-remote
Account gmail

# Create gmail local
MaildirStore gmail-local
Path ~/Mail/chris.bracken-gmail.com/
Inbox ~/Mail/chris.bracken-gmail.com/INBOX
Flatten "."

Channel gmail-default
Master :gmail-remote:
Slave :gmail-local:
Patterns "INBOX"
Create Slave
Expunge Both
CopyArrivalDate yes
SyncState *

Channel gmail-drafts
Master :gmail-remote:"[Gmail]/Drafts"
Slave :gmail-local:"drafts"
Create Slave
Expunge Both
CopyArrivalDate yes
SyncState *

Channel gmail-sent
Master :gmail-remote:"[Gmail]/Sent Mail"
Slave :gmail-local:"sent"
Create Slave
Expunge Both
CopyArrivalDate yes
SyncState *

Channel gmail-starred
Master :gmail-remote:"[Gmail]/Starred"
Slave :gmail-local:"flagged"
Create Slave
Expunge Both
CopyArrivalDate yes
SyncState *

Channel gmail-trash
Master :gmail-remote:"[Gmail]/Bin"
Slave :gmail-local:"trash"
Create Slave
Expunge Both
CopyArrivalDate yes
SyncState *

Channel gmail-archive
Master :gmail-remote:"[Gmail]/All Mail"
Slave :gmail-local:"archive"
Create Slave
Expunge Both
CopyArrivalDate yes
SyncState *

Channel gmail-baynet
Master :gmail-remote:"BayNet"
Slave :gmail-local:"baynet"
Create Slave
Expunge Both
CopyArrivalDate yes
SyncState *

Group gmail
Channel gmail-default
Channel gmail-drafts
Channel gmail-sent
Channel gmail-starred
Channel gmail-trash
Channel gmail-archive
Channel gmail-baynet
